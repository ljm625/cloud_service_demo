<!--<form nz-form [formGroup]="form">-->
  <!--<nz-form-item>-->
<form nz-form [formGroup]="serviceForm">
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">服务名称</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24">
      <input nz-input formControlName="name" id="name" placeholder="请输入服务名称">
      <!--<nz-form-explain *ngIf="validateForm.get('name').dirty && validateForm.get('name').errors &&validateForm.get('name').value=='' ">站点名为必填值</nz-form-explain>-->
    </nz-form-control>
  </nz-form-item>
</form>

<nz-collapse nzAccordion [nzBordered]="false">
  <nz-collapse-panel *ngFor="let validateForm of validateForms;let i = index" [nzHeader]="'站点'+(i+1)" [(nzActive)]="actived[i]">
    <form nz-form [formGroup]="validateForm">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">站点名称</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input formControlName="name" id="name" placeholder="请输入站点名称">
          <nz-form-explain *ngIf="validateForm.get('name').dirty && validateForm.get('name').errors &&validateForm.get('name').value=='' ">站点名为必填值</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="city" nzRequired>城市</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-select name="city" formControlName="cityName" [ngModel]="'北京'">
            <nz-option nzValue="北京" nzLabel="北京"></nz-option>
            <nz-option nzValue="上海" nzLabel="上海"></nz-option>
            <nz-option nzValue="广州" nzLabel="广州"></nz-option>
          </nz-select>
          <nz-form-explain *ngIf="validateForm.get('cityName').dirty && validateForm.get('cityName').errors">城市名为必选值</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="address" nzRequired >详细地址</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input formControlName="address" id="address" placeholder="请输入站点地址">
          <nz-form-explain *ngIf="validateForm.get('address').dirty && validateForm.get('address').errors">地址为必填值</nz-form-explain>
          <!--<nz-form-explain *ngIf="validateForm.get('checkPassword').dirty && validateForm.get('checkPassword').errors">-->
          <!--<ng-container *ngIf="validateForm.get('checkPassword').hasError('required')">-->
          <!--Please confirm your password!-->
          <!--</ng-container>-->
          <!--<ng-container *ngIf="validateForm.get('checkPassword').hasError('confirm')">-->
          <!--Two passwords that you enter is inconsistent!-->
          <!--</ng-container>-->
          <!--</nz-form-explain>-->
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="bandwidth" nzRequired>
          <span>
            带宽
            <nz-tooltip nzTitle="带宽，Mbps单位">
              <i nz-tooltip class="anticon anticon-question-circle-o"></i>
            </nz-tooltip>
          </span>
        </nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">

          <nz-input-group nzAddOnAfter="Mbps">
            <input type="text" nz-input placeholder="请输入带宽值" id="bandwidth" formControlName="bandwidth">
          </nz-input-group>
          <!--<ng-template #suffixButton>-->
            <!--<button nz-button nzType="primary" nzSearch>Mbps</button>-->
          <!--</ng-template>-->

          <!--<nz-input-group nzSearch nzSize="large"  [nzSuffix]="suffixButton"></nz-input-group>-->
          <!--<input nz-input id="bandwidth" formControlName="bandwidth">-->
          <!--<ng-template #suffixButton>-->
            <!--<button nz-button nzType="primary" nzSize="large" nzSearch>Search</button>-->
          <!--</ng-template>-->
          <nz-form-explain *ngIf="validateForm.get('bandwidth').dirty && validateForm.get('bandwidth').errors">输入的带宽值无效</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="slaName" nzRequired>SLA等级</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="validateForm.controls['slaName']">
          <nz-select name="sla" formControlName="slaName" [ngModel]="'金'">
            <nz-option nzValue="金" nzLabel="金"></nz-option>
            <nz-option nzValue="银" nzLabel="银"></nz-option>
            <nz-option nzValue="铜" nzLabel="铜"></nz-option>
            <nz-form-explain *ngIf="validateForm.get('slaName').dirty && validateForm.get('slaName').errors">SLA等级为必选</nz-form-explain>

          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item nz-row style="margin-bottom:8px;">
      <nz-form-control [nzSpan]="14" [nzOffset]="11">
        <button nz-button [nzType]="'danger'" (click)="deleteSite(i)" >删除站点</button>
      </nz-form-control>
      </nz-form-item>
    </form>




  </nz-collapse-panel>
  <!--<nz-collapse-panel [nzHeader]="'站点2'" [nzActive]="'false'">-->


  <!--</nz-collapse-panel>-->

</nz-collapse>


  <!--</nz-form-item>-->

    <nz-form-item>
    <nz-form-control [nzSpan]="19" [nzOffset]="13">
      <button nz-button [nzType]="'dashed'" (click)="addSite()" >添加站点</button>
      <button nz-button (click)="prev()" >上一步</button>
      <button nz-button *ngIf="!isValid()" [nzType]="'primary'" (click)="validateAndSubmit()" disabled>下一步</button>
      <button nz-button *ngIf="isValid()" [nzType]="'primary'" (click)="validateAndSubmit()">下一步</button>

    </nz-form-control>
  </nz-form-item>
<!--</form>-->
